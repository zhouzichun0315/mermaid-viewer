<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mermaid æµç¨‹å›¾åœ¨çº¿ç¼–è¾‘å™¨</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div class="container">
        <!-- é¡¶éƒ¨å·¥å…·æ  -->
        <header class="toolbar">
            <h1 class="logo">Mermaid Editor</h1>
            <div class="toolbar-actions">
                <select id="templateSelect" class="template-select">
                    <option value="">é€‰æ‹©ç¤ºä¾‹æ¨¡æ¿</option>
                </select>
                <button id="exportPng" class="btn btn-primary">å¯¼å‡º PNG</button>
                <button id="exportSvg" class="btn btn-secondary">å¯¼å‡º SVG</button>
                <button id="themeToggle" class="btn btn-icon" title="åˆ‡æ¢ä¸»é¢˜">
                    <span class="theme-icon">ğŸŒ™</span>
                </button>
            </div>
        </header>

        <!-- ä¸»å†…å®¹åŒº -->
        <main class="main-content">
            <!-- å·¦ä¾§ä»£ç ç¼–è¾‘åŒº -->
            <div class="editor-panel">
                <div class="panel-header">
                    <span>Mermaid ä»£ç </span>
                </div>
                <textarea id="codeEditor" class="code-editor" placeholder="åœ¨æ­¤è¾“å…¥ Mermaid ä»£ç ..." spellcheck="false">graph TD
    A[å¼€å§‹] --> B{æ˜¯å¦æœ‰æ¡ä»¶?}
    B -->|æ˜¯| C[æ‰§è¡Œæ“ä½œA]
    B -->|å¦| D[æ‰§è¡Œæ“ä½œB]
    C --> E[ç»“æŸ]
    D --> E</textarea>
            </div>

            <!-- å³ä¾§é¢„è§ˆåŒº -->
            <div class="preview-panel">
                <div class="panel-header">
                    <span>æµç¨‹å›¾é¢„è§ˆ</span>
                </div>
                <div id="preview" class="preview-area">
                    <div id="mermaidOutput"></div>
                </div>
                <div id="errorMessage" class="error-message" style="display: none;"></div>
            </div>
        </main>
    </div>

    <!-- Mermaid CDN -->
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
    <!-- html2canvas for PNG export -->
    <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
    
    <!-- åº”ç”¨è„šæœ¬ -->
    <script src="js/templates.js"></script>
    <script src="js/export.js"></script>
    <script src="js/app.js"></script>
</body>
</html>
